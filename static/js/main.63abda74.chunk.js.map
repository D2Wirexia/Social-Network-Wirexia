{"version":3,"sources":["components/common/Paginator/Pagination.module.css","img/myAva.jpg","img/1.jpg","img/loading.gif","components/common/Preloader/Preloader.module.css","components/Profile/Profile.module.css","img/snw.png","logo.svg","components/Login/Login.module.css","components/Users/Users.module.css","serviceWorker.js","components/Nav/Nav.jsx","components/Music/Music.jsx","components/Settings/Settings.jsx","components/News/News.jsx","redux/messageReducer.js","components/Dialogs/Friends/Friends.jsx","components/Dialogs/Message/Message.jsx","components/common/formControls/formControls.js","utils/validators/validators.js","components/Dialogs/Dialogs.jsx","components/Hoc/withAuthRedirect.js","components/Dialogs/DialogsContainer.jsx","components/Api/Api.js","utils/object-helpers.js","redux/usersReducer.js","components/common/Paginator/Paginator.js","components/Users/User.jsx","components/Users/Users.jsx","components/common/Preloader/Preloader.js","redux/selectors/users-selectors.js","components/Users/UsersContainer.jsx","redux/profileReducer.js","components/Profile/Posts/SimplePost/SimplePost.jsx","components/Profile/Posts/MyPost.jsx","components/Profile/Posts/MyPostContainer.jsx","components/Profile/ProfileInfo/PrifileStatus/ProfileStatusWithHooks.jsx","components/Profile/ProfileInfo/ProfileInfo.jsx","components/Profile/Profile.jsx","components/Profile/ProfileContainer.jsx","components/Header/Header.js","redux/auth-reducer.js","components/Header/HeaderContainer.js","components/Login/Login.jsx","redux/app-reducer.js","redux/sidebarReducer.js","redux/redux-store.js","App.js","index.js","components/Dialogs/Message/Message.module.css","components/Profile/Posts/MyPost.module.css","components/Profile/ProfileInfo/ProfileInfo.module.css","components/Dialogs/Dialogs.module.css","components/Dialogs/Friends/Friends.module.css","components/Profile/Posts/SimplePost/SimplePost.module.css","components/Header/Header.module.css","img/dimuch.png","components/Nav/Nav.module.css","components/common/formControls/formControl.module.css"],"names":["module","exports","Boolean","window","location","hostname","match","Nav","React","memo","props","friendsData","state","sideBar","friends","className","universal","nav","post","to","activeClassName","active","blockFriend","bestFriend","photo","src","photoUrl","friend","name","Music","Settings","News","title","initialState","messageData","id","message","sender","dialogData","hash","dimuchPhoto","ZeChat","what","who","where","howMuch","when","messageReducer","action","type","whomToSend","length","text","OneDialog","dialog","onClick","receiveIdFriend","imgFriend","alt","nameFriend","Friends","dialogElement","map","mainDialog","friendsDialog","Message","meMessage","meMessageDiv","otherMessage","therMessageDiv","blockMessage","backgroundImg","mes","simpleMess","key","enterMessage","style","idFriend","discussion","myAva","FormControl","input","meta","touched","error","el","hasError","formControl","createElement","Textarea","Input","createField","placeholder","component","validate","Field","required","value","maxLengthCreator","maxLength","minLengthCreator","minLength","maxLength500","minLength2","MassageReduxForm","reduxForm","form","onSubmit","handleSubmit","send","Dialogs","useState","setIdFriend","setWhomToSend","useEffect","sms","dataEntry","values","addMessage","newMassage","setTimeout","scriptBot","split","toLowerCase","replace","res","sort","Math","random","addAnswerZe","mapStateToPropsForRedirect","isAuth","authPart","compose","connect","messangerPage","Component","RedirectComponent","this","instance","axios","baseURL","withCredentials","headers","dalAPi","getUsersAxios","currentPage","pageSize","get","then","response","data","follow","unfollow","delete","getAuthAxios","getProfile","userId","getStatus","putUpdateStatus","status","put","postLoginAxios","email","password","rememberMe","deleteLoginAxios","objectInArray","items","itemId","objPropName","newObjProps","u","FOLLOW","UNFOLLOW","SET_USERS","users","usersBest","followed","photos","small","city","country","totalUsersCount","isFetching","followingInProgress","followSuccess","userID","unfollowSuccess","setCurrentPage","toggleIsFetchingAC","toggleIsFollowingProgress","progress","followUnfollowFlow","dispatch","apiMethod","actionCreator","a","resultCode","usersReducer","totalCount","filter","Paginator","totalItemsCount","onPageChanged","portionSize","pageCount","ceil","pages","i","push","portionCount","portionNumber","setPortionNumber","leftPortionPageNumber","rightPortionPageNumber","pagination","disabled","background","cursor","color","opacity","p","selectedPage","User","user","info","userPhoto","arrButton","some","btn","leftBlock","rightBlock","Users","Preloader","w","loader","preLoader","getPageSize","usersPage","getTotalUsersCount","getCurrentPage","getIsFetching","getFollowingInProgress","getUsersSelector","createSelector","UsersContainer","pageNumber","getUsers","bind","ADD_POST","DELETE_POST","ADD_LIKE","PUSH_ID_LIKES","postData","like","profile","mainProfile","fullName","aboutMe","large","isShowIdLike","setProfileStatus","addLike","profileReducer","postId","expectation","SimplePost","showLike","howIdIsShowLike","withdrawLikes","setState","hideLikes","strLike","String","reverse","join","item","countLike","onMouseOver","pushIdLikes","onMouseOut","round","spaceBetweenLikes","PureComponent","MyPost","block","PostReduxForm","addPost","newPostBody","simplePost","textPost","MyPostContainer","profilePage","ProfileStatusWithHooks","editMode","setEditMode","setStatus","onDoubleClick","onBlur","statusUpdateThunk","autoFocus","onChange","e","target","ProfileInfo","backLogo","headerImg","name_profile","status_profile","info_profile","lookingForAJobDescription","contacts","github","vk","facebook","instagram","twitter","website","youtube","mainLink","lookingForAJob","checked","Profile","content","ProfileContainer","params","authorizedUserId","history","profileThunk","statusThunk","withRouter","Header","header","logo","App_logo","RT","login","logoutThunk","setAuthUserData","payload","authThunk","authReducer","HeaderContainer","maxLength50","Login","LoginReduxForm","formData","loginThunk","messages","stopSubmit","_error","initialized","appReducer","sidebarReducer","reducers","combineReducers","appPage","formReducer","store","createStore","applyMiddleware","thunk","App","initializeApp","path","render","DialogsContainer","AppContainer","promise","Promise","all","MainApp","getState","ReactDOM","document","getElementById","navigator","serviceWorker","ready","registration","unregister","catch","console"],"mappings":"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","file":"static/js/main.63abda74.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"pagination\":\"Pagination_pagination__1KLMa\",\"selectedPage\":\"Pagination_selectedPage__1tqV8\"};","module.exports = __webpack_public_path__ + \"static/media/myAva.df94f537.jpg\";","module.exports = __webpack_public_path__ + \"static/media/1.36578126.jpg\";","module.exports = __webpack_public_path__ + \"static/media/loading.3f259006.gif\";","// extracted by mini-css-extract-plugin\nmodule.exports = {\"loader\":\"Preloader_loader__2SNI0\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"content\":\"Profile_content__3bGEy\"};","module.exports = __webpack_public_path__ + \"static/media/snw.2f7acb55.png\";","module.exports = __webpack_public_path__ + \"static/media/logo.5d5d9eef.svg\";","// extracted by mini-css-extract-plugin\nmodule.exports = {\"error\":\"Login_error__2Mriu\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"getUser\":\"Users_getUser__QekSk\",\"userAnim\":\"Users_userAnim__2Do7c\",\"user\":\"Users_user__3xMum\",\"location\":\"Users_location__3bUti\",\"btn\":\"Users_btn__20k0G\",\"info\":\"Users_info__11_JH\",\"name\":\"Users_name__2ZT2d\",\"status\":\"Users_status__5EC7x\",\"rightBlock\":\"Users_rightBlock__19iD9\",\"country\":\"Users_country__iSBtN\",\"city\":\"Users_city__2-HSf\"};","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' }\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready\n      .then(registration => {\n        registration.unregister();\n      })\n      .catch(error => {\n        console.error(error.message);\n      });\n  }\n}\n","import React from 'react';\r\nimport universal from './Nav.module.css'\r\nimport {NavLink} from \"react-router-dom\";\r\nimport \"../../css/all.min.css\"\r\n\r\nconst Nav = React.memo(props => {\r\n\tlet friendsData = props.state.sideBar.friends;\r\n\r\n\t\t\t\t\t /*let friendsData = store.getState().sideBar.friends.map(x => {\r\n\t\t\t\t\t\t return <Friend friend={x.name} />\r\n\t\t\t\t\t });*/\r\n\r\n\r\n\t\t\t\t\t return (\r\n\t\t\t\t\t\t  <nav className={universal.nav}>\r\n\t\t\t\t\t\t\t  <div className={universal.post}>\r\n\t\t\t\t\t\t\t\t  <NavLink to=\"/profile\" activeClassName={universal.active}>\r\n\t\t\t\t\t\t\t\t\t  <i className=\"fas fa-address-card\"></i>Profile</NavLink>\r\n\t\t\t\t\t\t\t  </div>\r\n\t\t\t\t\t\t\t  <div className={universal.post}>\r\n\t\t\t\t\t\t\t\t  <NavLink to=\"/dialogs\" activeClassName={universal.active}>\r\n\t\t\t\t\t\t\t\t\t  <i className=\"fas fa-envelope\"></i>Messanger</NavLink>\r\n\t\t\t\t\t\t\t  </div>\r\n\t\t\t\t\t\t\t  <div className={universal.post}>\r\n\t\t\t\t\t\t\t\t  <NavLink to=\"/news\" activeClassName={universal.active}>\r\n\t\t\t\t\t\t\t\t\t  <i className=\"fas fa-newspaper\"></i>News</NavLink>\r\n\t\t\t\t\t\t\t  </div>\r\n\t\t\t\t\t\t\t  <div className={universal.post}>\r\n\t\t\t\t\t\t\t\t  <NavLink to=\"/music\" activeClassName={universal.active}>\r\n\t\t\t\t\t\t\t\t\t  <i className=\"fas fa-music\"></i>Music</NavLink>\r\n\t\t\t\t\t\t\t  </div>\r\n\t\t\t\t\t\t\t  <div className={universal.post}>\r\n\t\t\t\t\t\t\t\t  <NavLink to=\"/settings\" activeClassName={universal.active}>\r\n\t\t\t\t\t\t\t\t\t  <i className=\"fas fa-tools\"></i>Settings</NavLink>\r\n\t\t\t\t\t\t\t  </div>\r\n\t\t\t\t\t\t\t  <div className={universal.post}>\r\n\t\t\t\t\t\t\t\t  <NavLink to=\"/users\" activeClassName={universal.active}>\r\n\t\t\t\t\t\t\t\t\t  <i className=\"fas fa-users\"></i>Users</NavLink>\r\n\t\t\t\t\t\t\t  </div>\r\n\r\n\r\n\t\t\t\t\t\t\t  <div className={universal.blockFriend}>\r\n\t\t\t\t\t\t\t\t  <div className={universal.bestFriend}>\r\n\t\t\t\t\t\t\t\t\t  <div className={universal.photo}><img src={friendsData[0].photoUrl}/></div>\r\n\t\t\t\t\t\t\t\t\t  <div className={universal.friend}>{friendsData[0].name}</div>\r\n\t\t\t\t\t\t\t\t  </div>\r\n\t\t\t\t\t\t\t\t  <div className={universal.bestFriend}>\r\n\t\t\t\t\t\t\t\t\t  <div className={universal.photo}><img src={friendsData[1].photoUrl}/></div>\r\n\t\t\t\t\t\t\t\t\t  <div className={universal.friend}>{friendsData[1].name}</div>\r\n\t\t\t\t\t\t\t\t  </div>\r\n\t\t\t\t\t\t\t\t  <div className={universal.bestFriend}>\r\n\t\t\t\t\t\t\t\t\t  <div className={universal.photo}><img src={friendsData[2].photoUrl}/></div>\r\n\t\t\t\t\t\t\t\t\t  <div className={universal.friend}>{friendsData[2].name}</div>\r\n\t\t\t\t\t\t\t\t  </div>\r\n\t\t\t\t\t\t\t  </div>\r\n\r\n\r\n\t\t\t\t\t\t  </nav>\r\n\t);\r\n});\r\nexport default Nav;","import React from 'react';\r\nimport universal from './Music.module.css';\r\n\r\nconst Music = (props) => {\r\n\treturn (\r\n\t\t <div>Music</div>\r\n\t);\r\n}\r\n\r\nexport default Music;\r\n","import React from 'react';\r\nimport universal from './Settings.module.css';\r\n\r\nconst Settings = (props) => {\r\n\treturn (\r\n\t\t <div>Settings</div>\r\n\t);\r\n}\r\n\r\nexport default Settings;\r\n","import React from 'react';\r\nimport universal from './News.module.css';\r\n\r\nconst News = () => {\r\n\treturn (\r\n\t\t <div className={universal.title}>News\r\n\t\t\t <div>\r\n\t\t\t\t 14792\r\n\t\t\t\t 2\r\n\t\t\t\t 8\r\n\t\t\t\t 9\r\n\t\t\t\t 11849\r\n\t\t\t </div>\r\n\t\t </div>\r\n\t);\r\n};\r\nexport default News;","import dimuchPhoto from './../img/dimuch.png'\r\nconst ADD_MESSAGE = \"ADD-MESSAGE\";\r\nconst ANSWER_ZE = \"ANSWER_ZE\";\r\nlet initialState = {\r\n\tmessageData: {\r\n\t\t'Vladimir Zelensky': [\r\n\t\t\t{id: 1, message: 'Доброго дня!', sender: \"other\"},\r\n\t\t\t{id: 2, message: 'мои команды: какие, кто, где, сколько, когда', sender: \"other\"},\r\n\r\n\t\t],\r\n\t\t'Nastenka': [\r\n\t\t\t{id: 1, message: 'Hi', sender: \"other\"},\r\n\t\t\t{id: 2, message: 'Would you like to go for a walk?', sender: \"other\"},\r\n\t\t\t{id: 3, message: 'in 20 minutes', sender: \"other\"},\r\n\t\t\t{id: 4, message: 'ye, ofc', sender: \"me\"},\r\n\t\t\t{id: 5, message: '🕗', sender: \"me\"},\r\n\t\t\t{id: 6, message: 'I\\'ll wait', sender: \"other\"},\r\n\t\t],\r\n\t\t'Dima BigBoss': [\r\n\t\t\t{id: 1, message: 'Hi', sender: \"other\"},\r\n\t\t\t{id: 2, message: 'Yo, what so?', sender: \"other\"},\r\n\t\t\t{id: 3, message: 'Hello, It\\'s 🆗!', sender: \"me\"},\r\n\t\t\t{id: 4, message: 'Swim the task...', sender: \"other\"},\r\n\t\t\t{id: 5, message: 'Обращаем массив вспять. Напишите две функции, reverseArray и reverseArrayInPlace. Первая получает массив как аргумент и выдаёт новый массив, с обратным порядком элементов. Вторая работает как оригинальный метод reverse – она меняет порядок элементов на обратный в том массиве, который был ей передан в качестве аргумента. Не используйте стандартный метод reverse.', sender: \"other\"},\r\n\t\t],\r\n\t\t'Artem lowSkill': [\r\n\t\t\t{id: 1, message: 'Здорова', sender: \"other\"},\r\n\t\t\t{id: 2, message: 're)', sender: \"me\"},\r\n\t\t\t{id: 3, message: 'Есть чирик до понедельника занять?', sender: \"other\"},\r\n\t\t\t{id: 4, message: 'На пиво не хватает', sender: \"other\"},\r\n\t\t\t{id: 5, message: 'карта - 84534765812124916', sender: \"other\"},\r\n\t\t]\r\n\t},\r\n\tdialogData: [\r\n\t\t{\r\n\t\t\tid: 1, name: 'Vladimir Zelensky', hash: \"Ze\",\r\n\t\t\tphotoUrl: 'https://upload.wikimedia.org/wikipedia/commons/thumb/b/b1/Volodymyr_Zelensky_Official_portrait_%28cropped%29.jpg/248px-Volodymyr_Zelensky_Official_portrait_%28cropped%29.jpg',\r\n\t\t},\r\n\t\t{\r\n\t\t\tid: 2, name: 'Nastenka', hash: \"Nastenka\",\r\n\t\t\tphotoUrl: 'https://svirtus.cdnvideo.ru/SO9sxAqnAkR1tN1Kg6jXFhWvYMM=/0x0:371x371/800x0/filters:quality(100)/https://hb.bizmrg.com/cybersportru-media/d4/d4e61b79893464edf8fac84d5b25bcd6.jpg?m=6abf7ca4aedde894c0fb76aea5a89542',\r\n\t\t},\r\n\t\t{\r\n\t\t\tid: 3, name: 'Dimuch BigBoss', hash: \"DimaBoss\",\r\n\t\t\tphotoUrl: dimuchPhoto,\r\n\t\t},\r\n\t\t{\r\n\t\t\tid: 4, name: 'Artem lowSkill', hash: \"Artem\",\r\n\t\t\tphotoUrl: 'https://abakan-news.ru/wp-content/uploads/2018/03/-e1520919096875.jpg',\r\n\t\t},\r\n\t],\r\n\tZeChat: {\r\n\t\twhat: [\"Красивые\", \"Похожи на меня\", \"Суть вопроса мне ясна, ждите ответа!\", \"Перспективные\",\r\n\t\t\"Шлем натер яйца, давайте следующий вопрос...\"],\r\n\t\twho: [\"Спросите у Петра\", \"Это все Россия\", \"Артём Смирнов\", \"Точно не я!\",\r\n\t\t\t\"Клоун на LexXxuse\",\t\"Александр Сергеевич Пушкин\", \"Ты\",\r\n\t\t\t\"Это все нелегалы, титушки и агенты Кремля\", \"Не знаю, але українці рідніщі понад усе\"],\r\n\t\twhere: [\"Нужно посмотреть в Берлине\", \"Сзади\", \"Конечно же дома, под матрасом\",\r\n\t\t\t\"Где именно не знаю, но в квартале было хорошо\", \"Давайте посмотрим вместе\"],\r\n\t\thowMuch: [\"3 кг гречки\", \"Точно сказать не могу, но сумма внушает доверие\",\r\n\t\t\t\"8 лет строгача\", \"Разузнаю, потом напишу\", \"Чучуть\", \"Пол этажа таможни\"],\r\n\t\twhen: [\"В четверг\", \"На выходных\", \"Со следующей недели\", \"2 дня назад\",\r\n\t\t\t\"Во времена правления Петра\", \"Понедельник точно отпадает, остаеться только пятница\"],\r\n\t}\r\n};\r\nconst messageReducer = (state = initialState, action) => {\r\n\tswitch (action.type) {\r\n\r\n\t\tcase ADD_MESSAGE:\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\tmessageData: {\r\n\t\t\t\t\t...state.messageData,\r\n\t\t\t\t\t[action.whomToSend]: [...state.messageData[action.whomToSend],\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tid: state.messageData[action.whomToSend].length + 1,\r\n\t\t\t\t\t\tmessage: action.text,\r\n\t\t\t\t\t\tsender: \"me\"\r\n\t\t\t\t\t}]\r\n\t\t\t\t}\r\n\t\t\t};\r\n\t\tcase ANSWER_ZE:\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\tmessageData: {\r\n\t\t\t\t\t...state.messageData,\r\n\t\t\t\t\t'Vladimir Zelensky': [...state.messageData['Vladimir Zelensky'],\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\tid: state.messageData['Vladimir Zelensky'].length + 1,\r\n\t\t\t\t\t\t\tmessage: action.text,\r\n\t\t\t\t\t\t\tsender: \"other\"\r\n\t\t\t\t\t\t}]\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\tdefault:\r\n\t\t\treturn state;\r\n\t}\r\n};\r\nexport const addMessage = (text, whomToSend) => {\r\n\treturn {\r\n\t\ttype: ADD_MESSAGE, text, whomToSend\r\n\t}\r\n};\r\nexport const addAnswerZe = (text) => {\r\n\treturn {\r\n\t\ttype: ANSWER_ZE, text\r\n\t}\r\n};\r\nexport default messageReducer;","import React from 'react';\r\nimport universal from './Friends.module.css';\r\nimport {NavLink} from 'react-router-dom';\r\n\r\nconst OneDialog = (props) => {\r\n\treturn(\r\n\t\t <NavLink to={'/dialogs/' + props.id}>\r\n\t\t\t <div className={universal.dialog} onClick={()=>props.receiveIdFriend(props.id)}>\r\n\t\t\t\t<div className={universal.imgFriend}>\r\n\t\t\t\t\t<img src={props.photoUrl} alt=\"photoProfile\"/>\r\n\t\t\t\t</div>\r\n\r\n\t\t\t\t<div className={universal.nameFriend}>{props.name}</div>\r\n\r\n\t\t\t </div>\r\n\t\t </NavLink>\r\n\t);\r\n};\r\n\r\nconst Friends = (props) => {\r\n\r\n\tlet dialogElement = props.dialogData.map(dialog => {\r\n\t\treturn <OneDialog name={dialog.name} id={dialog.id} photoUrl={dialog.photoUrl} receiveIdFriend={props.receiveIdFriend}/>\r\n\t});\r\n\treturn (\r\n\t\t <div className={universal.mainDialog}>\r\n\t\t\t <div className={universal.friendsDialog}>\r\n\t\t\t\t {dialogElement}\r\n\t\t\t </div>\r\n\t\t </div>\r\n\r\n\t);\r\n};\r\n\r\nexport default Friends;\r\n","import React from 'react';\r\nimport universal from './Message.module.css';\r\nimport myAva from './../../../img/myAva.jpg'\r\n\r\nconst Message = (props) => {\r\n\tconst meMessage = {\r\n\t\t\"justify-content\": \"flex-end\",\r\n\t\t\"text-align\": \"right\"\r\n\t};\r\n\tconst meMessageDiv = {\r\n\t\t\"margin-right\": \"60px\"\r\n\t};\r\n\tconst otherMessage = {\r\n\t\t\"justify-content\": \"flex-start\"\r\n\t};\r\n\tconst therMessageDiv = {\r\n\t\t\"margin-left\": \"60px\"\r\n\t};\r\n\treturn (\r\n\t\t <div className={universal.blockMessage}>\r\n\t\t\t <div className={universal.backgroundImg}>\r\n\t\t\t \t<img src=\"https://mir-s3-cdn-cf.behance.net/project_modules/disp/acb65873426833.5c08f5634f7fb.png\" alt=\"backgroundImg\"/>\r\n\t\t\t </div>\r\n\t\t\t {\r\n\t\t\t\t props.message[props.whomToSend].map(mes => <div className={universal.simpleMess}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t key={mes.id}>\r\n\t\t\t\t\t {\r\n\t\t\t\t\t\t mes.sender !== \"me\"\r\n\t\t\t\t\t\t\t  ? <div className={universal.enterMessage} style={otherMessage}>\r\n\t\t\t\t\t\t\t\t  <img src={props.dialogData[props.idFriend - 1].photoUrl} alt=\"photoFriend\"/>\r\n\t\t\t\t\t\t\t\t  <div className={universal.discussion} style={therMessageDiv}>{mes.message}</div>\r\n\t\t\t\t\t\t\t  </div>\r\n\t\t\t\t\t\t\t  : <div className={universal.enterMessage} style={meMessage}>\r\n\t\t\t\t\t\t\t\t  <div className={universal.discussion} style={meMessageDiv}>{mes.message}</div>\r\n\t\t\t\t\t\t\t\t  <img src={myAva} alt=\"photoFriend\" />\r\n\t\t\t\t\t\t\t  </div>\r\n\t\t\t\t\t }\r\n\t\t\t\t </div>)\r\n\t\t\t }\r\n\t\t </div>\r\n\t);\r\n};\r\nexport default Message;","import React from \"react\";\r\nimport universal from \"./formControl.module.css\";\r\nimport {Field} from \"redux-form\";\r\n\r\nconst FormControl = ({input, meta: {touched, error}, el, ...props}) => {\r\n\tconst hasError = touched && error;\r\n\treturn(\r\n\t\t <div className={universal.formControl + \" \" + (hasError ? universal.error : \"\")}>\r\n\t\t\t <div>\r\n\t\t\t\t {React.createElement(el, {...input, ...props})}\r\n\t\t\t </div>\r\n\t\t\t {hasError && <span>{error}</span>}\r\n\t\t </div>\r\n\t)\r\n};\r\n\r\nexport const Textarea = props => {\r\n\treturn <FormControl {...props} el=\"textarea\" />\r\n\r\n};\r\nexport const Input = props => {\r\n\treturn <FormControl {...props} el=\"input\" />\r\n};\r\n\r\nexport const createField = (placeholder, component, name, validate, props = {}, text=\"\") => (\r\n\t <div><Field placeholder={placeholder} component={component} name={name}\r\n\t\t\t\t\t validate={validate} {...props}/>{text}</div> );","export const required = value => {\r\n\tif(value) return undefined;\r\n\treturn 'field is required'\r\n};\r\nexport const maxLengthCreator = (maxLength) => value => {\r\n\tif(value && value.length > maxLength) return `max length is ${maxLength} symbols`;\r\n\treturn undefined\r\n};\r\nexport const minLengthCreator = (minLength) => value => {\r\n\tif(value && value.length < minLength) return `min length is ${minLength} symbols`;\r\n\treturn undefined\r\n};\r\n\r\n\r\n","import React, {useEffect, useState} from 'react';\r\nimport universal from './Dialogs.module.css';\r\nimport Friends from \"./Friends/Friends\";\r\nimport Message from \"./Message/Message\";\r\nimport {reduxForm} from \"redux-form\";\r\nimport {createField, Textarea} from \"../common/formControls/formControls\";\r\nimport {maxLengthCreator, minLengthCreator, required} from \"../../utils/validators/validators\";\r\n\r\nconst maxLength500 = maxLengthCreator(500);\r\nconst minLength2 = minLengthCreator(1);\r\nconst Dialogs = (props) => {\r\n\tlet [idFriend, setIdFriend] = useState(1);\r\n\tlet [whomToSend, setWhomToSend] = useState('Vladimir Zelensky');\r\n\tuseEffect(() => {\r\n\t\tswitch (idFriend) {\r\n\t\t\tcase 1: return setWhomToSend('Vladimir Zelensky');\r\n\t\t\tcase 2: return setWhomToSend('Nastenka');\r\n\t\t\tcase 3: return setWhomToSend('Dima BigBoss');\r\n\t\t\tcase 4: return setWhomToSend('Artem lowSkill');\r\n\t\t\tdefault: return 0;\r\n\t\t}\r\n\t}, [idFriend]);\r\n\tconst receiveIdFriend = (id) => {\r\n\t\tsetIdFriend(id)\r\n\t};\r\n\r\n\tlet onSubmit = (values) => {\r\n\t\tprops.addMessage(values.newMassage, whomToSend);\r\n\t\tsetTimeout(()=> {\r\n\t\t\tconst re = /\\?/g;\r\n\t\t\tlet firstWord = values.newMassage.split(\" \");\r\n\t\t\tlet scriptBot;\r\n\t\t\tswitch (firstWord[0].toLowerCase().replace(re, '')) {\r\n\t\t\t\tcase \"какие\": scriptBot = props.ZeChat.what;\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tcase \"кто\": scriptBot = props.ZeChat.who;\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tcase \"где\": scriptBot = props.ZeChat.where;\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tcase \"сколько\": scriptBot = props.ZeChat.howMuch;\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tcase \"когда\": scriptBot = props.ZeChat.when;\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tdefault: return 0;\r\n\t\t\t}\r\n\t\t\tlet res = scriptBot.sort(function () {\r\n\t\t\t\treturn Math.random() - 0.5\r\n\t\t\t});\r\n\t\t\treturn props.addAnswerZe(res[0]);\r\n\t\t}, 20)\r\n\r\n\t};\r\n\treturn (\r\n\t\t <div>\r\n\t\t\t <h3>Dialogs</h3>\r\n\t\t\t <div className={universal.mainDialog}>\r\n\t\t\t\t <Friends dialogData={props.dialogData} receiveIdFriend={receiveIdFriend}/>\r\n\t\t\t\t <div className={universal.mes}>\r\n\t\t\t\t\t <div className={universal.sms}>\r\n\t\t\t\t\t\t <Message message={props.messageData} whomToSend={whomToSend}\r\n\t\t\t\t\t\t\t\t\t dialogData={props.dialogData} idFriend={idFriend}/>\r\n\t\t\t\t\t </div>\r\n\t\t\t\t\t <div className={universal.dataEntry}>\r\n\t\t\t\t\t\t <MassageReduxForm onSubmit={onSubmit}/>\r\n\t\t\t\t\t </div>\r\n\t\t\t\t </div>\r\n\t\t\t </div>\r\n\t\t </div>\r\n\t);\r\n};\r\nconst MassageForm = (props) => {\r\n\treturn (\r\n\t\t <form onSubmit={props.handleSubmit}>\r\n\t\t\t {createField(\"Message...\", Textarea, \"newMassage\", [required, maxLength500, minLength2])}\r\n\t\t\t <button className={universal.send}>Send</button>\r\n\t\t </form>\r\n\t)\r\n};\r\nconst MassageReduxForm = reduxForm({form: 'massage'})(MassageForm);\r\nexport default Dialogs;\r\n","import React from 'react';\r\nimport {connect} from \"react-redux\";\r\nimport {Redirect} from \"react-router-dom\";\r\n\r\nlet mapStateToPropsForRedirect = (state) => {\r\n\treturn {\r\n\t\tisAuth: state.authPart.isAuth,\r\n\t}\r\n};\r\n\r\nexport const withAuthRedirect = Component => {\r\n\tclass RedirectComponent extends React.Component {\r\n\t\trender() {\r\n\t\t\tif(!this.props.isAuth) return <Redirect to={'/login'}/>;\r\n\t\t\treturn <Component {...this.props} />\r\n\t\t}\r\n\t}\r\n\tlet ConnectedAuthRedirectComponent = connect(mapStateToPropsForRedirect)(RedirectComponent);\r\n\treturn ConnectedAuthRedirectComponent;\r\n};\r\n","import React from 'react';\r\nimport {addAnswerZe, addMessage} from \"../../redux/messageReducer\";\r\nimport Dialogs from \"./Dialogs\";\r\nimport {connect} from \"react-redux\";\r\nimport {withAuthRedirect} from \"../Hoc/withAuthRedirect\";\r\nimport {compose} from \"redux\";\r\n\r\nlet mapStateToProps = (state) => {\r\n\treturn {\r\n\t\tmessageData: state.messangerPage.messageData,\r\n\t\tdialogData: state.messangerPage.dialogData,\r\n\t\tZeChat: state.messangerPage.ZeChat,\r\n\r\n\t}\r\n};\r\n\r\nexport default compose(\r\n\t connect(mapStateToProps, {addMessage, addAnswerZe}),\r\n\t withAuthRedirect\r\n)(Dialogs);\r\n","import * as axios from \"axios\";\r\n\r\nconst instance = axios.create({\r\n\tbaseURL: 'https://social-network.samuraijs.com/api/1.0/',\r\n\twithCredentials: true,\r\n\theaders: {\r\n\t\t'API-KEY': '9e627330-9cf7-4c05-8045-cf162f6f5f60'\r\n\t}\r\n});\r\n\r\nexport const dalAPi = {\r\n\t//получение списка юзеров\r\n\tgetUsersAxios(currentPage = 1, pageSize = 10){\r\n\t\treturn instance.get(`users?page=${currentPage}&count=${pageSize}`).then(response => response.data)\r\n\t},\r\n\t//подписка\r\n\tfollow(id){\r\n\t\treturn instance.post(`follow/${id}`)\r\n\t},\r\n\t//отписка\r\n\tunfollow(id){\r\n\t\treturn instance.delete(`follow/${id}`)\r\n\t},\r\n\t//проверка на логин на серваке\r\n\tgetAuthAxios(){\r\n\t\treturn instance.get(`auth/me`).then(response => response.data)\r\n\t},\r\n\t//получить профиль юзера для отрисовки\r\n\tgetProfile(userId){\r\n\t\treturn instance.get(`profile/` + userId)\r\n\t},\r\n\t//получить статус своего профиля\r\n\tgetStatus(userId){\r\n\t\treturn instance.get(`profile/status/` + userId)\r\n\t},\r\n\t//изменить статус своего профиля\r\n\tputUpdateStatus(status){\r\n\t\treturn instance.put(`profile/status`, {status})\r\n\t},\r\n\t//залогиниться на серваке через нашу страничку\r\n\tpostLoginAxios(email, password, rememberMe  = false){\r\n\t\treturn instance.post('/auth/login', {email, password, rememberMe})\r\n\t},\r\n\t//разлогиниться на серваке через нашу страничку\r\n\tdeleteLoginAxios(){\r\n\t\treturn instance.delete('/auth/login')\r\n\t},\r\n};\r\n","export const objectInArray = (items, itemId, objPropName, newObjProps) => {\r\n\titems.map(u => {\r\n\t\tif (u[objPropName] === itemId) {\r\n\t\t\treturn {...u, ...newObjProps};\r\n\t\t}\r\n\t\treturn u;\r\n\t})\r\n};","import {dalAPi} from \"../components/Api/Api\";\r\nimport {objectInArray} from \"../utils/object-helpers\";\r\n\r\nconst FOLLOW = \"userReducer/FOLLOW\";\r\nconst UNFOLLOW = \"userReducer/UNFOLLOW\";\r\nconst SET_USERS = \"userReducer/SET_USERS\";\r\nconst SET_CURRENT_PAGE = \"userReducer/SET_CURRENT_PAGE\";\r\nconst SET_TOTAL_USERS_COUNT = \"userReducer/SET_TOTAL_USERS_COUNT\";\r\nconst TOGGLE_IS_FETCHING = \"userReducer/TOGGLE_IS_FETCHING\";\r\nconst TOGGLE_IS_FOLLOWING_PROGRESS = \"userReducer/TOGGLE_IS_FOLLOWING_PROGRESS\";\r\nlet initialState = {\r\n\tusers: [],\r\n\tusersBest: [\r\n\t\t{\r\n\t\t\tid: 1,\r\n\t\t\tfollowed: true,\r\n\t\t\tname: 'Vladimir Zelensky',\r\n\t\t\tphotos: {\r\n\t\t\t\tsmall: 'https://upload.wikimedia.org/wikipedia/commons/thumb/b/b1/Volodymyr_Zelensky_Official_portrait_%28cropped%29.jpg/248px-Volodymyr_Zelensky_Official_portrait_%28cropped%29.jpg'\r\n\t\t\t},\r\n\t\t\tstatus: '#ThePrezedent',\r\n\t\t\tlocation: {city: 'Kiev', country: 'Ukraine'}\r\n\t\t},\r\n\t\t{\r\n\t\t\tid: 2,\r\n\t\t\tfollowed: true,\r\n\t\t\tname: 'Nastenka',\r\n\t\t\tphotos: {\r\n\t\t\t\tsmall: 'https://svirtus.cdnvideo.ru/SO9sxAqnAkR1tN1Kg6jXFhWvYMM=/0x0:371x371/800x0/filters:quality(100)/https://hb.bizmrg.com/cybersportru-media/d4/d4e61b79893464edf8fac84d5b25bcd6.jpg?m=6abf7ca4aedde894c0fb76aea5a89542'\r\n\t\t\t},\r\n\t\t\tstatus: 'I\\'m Little girl',\r\n\t\t\tlocation: {city: 'Kiev', country: 'Ukraine'}\r\n\t\t},\r\n\t\t{\r\n\t\t\tid: 3,\r\n\t\t\tfollowed: true,\r\n\t\t\tname: 'Dima BigBoss',\r\n\t\t\tphotos: {\r\n\t\t\t\tsmall: 'https://yt3.ggpht.com/a/AATXAJxegcKj7lnz8MCMgcAz-gpSgPs5u5yMvynOEWiL=s176-c-k-c0x00ffffff-no-rj-mo',\r\n\t\t\t},\r\n\t\t\tstatus: 'next lvl improve skills',\r\n\t\t\tlocation: {city: 'Minsk', country: 'Belarus'}\r\n\t\t},\r\n\t\t{\r\n\t\t\tid: 4,\r\n\t\t\tfollowed: true,\r\n\t\t\tname: 'Artem lowSkill',\r\n\t\t\tphotos: {\r\n\t\t\t\tsmall: 'https://abakan-news.ru/wp-content/uploads/2018/03/-e1520919096875.jpg'\r\n\t\t\t},\r\n\t\t\tstatus: 'All about this...',\r\n\t\t\tlocation: {city: 'Sumy', country: 'Ukraine'}\r\n\t\t},\r\n\t],\r\n\ttotalUsersCount: 0,\r\n\tpageSize: 5,\r\n\tcurrentPage: 1,\r\n\tisFetching: false,\r\n\tfollowingInProgress: [],\r\n};\r\nconst usersReducer = (state = initialState, action) => {\r\n\tswitch (action.type) {\r\n\t\tcase FOLLOW:\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\tusers: objectInArray(state.users, action.userId, \"id\", {followed: true})\r\n\t\t\t\t/*users: state.users.map(u => {\r\n\t\t\t\t\tif (u.id === action.userID) {\r\n\t\t\t\t\t\treturn {...u, followed: true};\r\n\t\t\t\t\t}\r\n\t\t\t\t\treturn u;\r\n\t\t\t\t}),*/\r\n\t\t\t};\r\n\t\tcase UNFOLLOW:\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\tusers: objectInArray(state.users, action.userId, \"id\", {followed: false})\r\n\t\t\t};\r\n\t\tcase SET_USERS:\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\tusers: action.users,\r\n\t\t\t};\r\n\t\tcase SET_CURRENT_PAGE:\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\tcurrentPage: action.currentPage,\r\n\t\t\t};\r\n\t\tcase SET_TOTAL_USERS_COUNT:\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\ttotalUsersCount: action.totalCount,\r\n\t\t\t};\r\n\t\tcase TOGGLE_IS_FETCHING:\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\tisFetching: action.isFetching,\r\n\t\t\t};\r\n\t\tcase TOGGLE_IS_FOLLOWING_PROGRESS:\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\tfollowingInProgress: action.progress\r\n\t\t\t\t\t ? [...state.followingInProgress, action.userId]\r\n\t\t\t\t\t : state.followingInProgress.filter(id => id !== action.userId)\r\n\t\t\t};\r\n\t\tdefault:\r\n\t\t\treturn state;\r\n\t}\r\n};\r\nexport const followSuccess = (userID) => ({type: FOLLOW, userID});\r\nexport const unfollowSuccess = (userID) => ({type: UNFOLLOW, userID});\r\nexport const setUsersAC = (users) => ({type: SET_USERS, users});\r\nexport const setCurrentPage = (currentPage) => ({type: SET_CURRENT_PAGE, currentPage});\r\nexport const setTotalUsersCountAC = (totalUsersCount) => ({\r\n\ttype: SET_TOTAL_USERS_COUNT, totalCount: totalUsersCount\r\n});\r\nexport const toggleIsFetchingAC = (isFetching) => ({type: TOGGLE_IS_FETCHING, isFetching});\r\nexport const toggleIsFollowingProgress = (progress, userId) => ({\r\n\ttype: TOGGLE_IS_FOLLOWING_PROGRESS, progress, userId\r\n});\r\nexport const requestUsers = (currentPage, pageSize) => async (dispatch) => {\r\n\tdispatch(toggleIsFetchingAC(true));\r\n\tdispatch(setCurrentPage(currentPage));\r\n\tlet data = await dalAPi.getUsersAxios(currentPage, pageSize);\r\n\tdispatch(toggleIsFetchingAC(false));\r\n\tdispatch(setUsersAC(data.items));\r\n\tdispatch(setTotalUsersCountAC(data.totalCount));\r\n};\r\nconst followUnfollowFlow = async (dispatch, userId, apiMethod, actionCreator) => {\r\n\tdebugger\r\n\tdispatch(toggleIsFollowingProgress(true, userId));\r\n\tlet response = await apiMethod(userId);\r\n\tif (response.data.resultCode === 0) {\r\n\t\tdispatch(actionCreator(userId));\r\n\t}\r\n\tdispatch(toggleIsFollowingProgress(false, userId));\r\n};\r\nexport const follow = (userId) => async (dispatch) => {\r\n\t\tfollowUnfollowFlow(dispatch, userId, dalAPi.follow.bind(dalAPi), followSuccess);\r\n};\r\nexport const unfollow = (userId) => async (dispatch) => {\r\n\t\tfollowUnfollowFlow(dispatch, userId, dalAPi.unfollow.bind(dalAPi), unfollowSuccess);\r\n};\r\nexport default usersReducer;","import React, {useEffect, useState} from \"react\";\r\nimport universal from './Pagination.module.css'\r\nimport './../../../css/all.min.css'\r\n\r\nlet Paginator = ({totalItemsCount, pageSize, currentPage, onPageChanged, portionSize = 10}) => {\r\n\tlet pageCount = Math.ceil(totalItemsCount / pageSize);\r\n\tlet pages = [];\r\n\tfor (let i = 1; i <= pageCount; i++) {\r\n\t\tpages.push(i);\r\n\t}\r\n\tlet portionCount = Math.ceil(pageCount / portionSize);\r\n\tlet [portionNumber, setPortionNumber] = useState(1);\r\n\tlet leftPortionPageNumber = (portionNumber - 1) * portionSize + 1;\r\n\tlet rightPortionPageNumber = portionNumber * portionSize;\r\n\tuseEffect(()=>setPortionNumber(Math.ceil(currentPage/portionSize)), [currentPage]);\r\n\tconst disabledBtn = {\r\n\t\tbackground: \"#243d74\",\r\n\t\tcursor: \"auto\",\r\n\t\tcolor: \"#b1b1b1\",\r\n\t\topacity: 0.3\r\n\t};\r\n\treturn (\r\n\t\t <div className={universal.pagination}>\r\n\t\t\t <button disabled={portionNumber <= 1} style={portionNumber <= 1 ? disabledBtn : null}\r\n\t\t\t\t\t\tonClick={() => setPortionNumber(portionNumber - 1)} >\r\n\t\t\t\t <i className=\"fas fa-chevron-left\"/></button>\r\n\t\t\t {\r\n\t\t\t\t pages.filter(p => p >= leftPortionPageNumber && p <= rightPortionPageNumber)\r\n\t\t\t\t\t  .map(p => <span key={p}\r\n\t\t\t\t\t\t\t\t\t\t\t className={currentPage === p ? universal.selectedPage : \"\"}\r\n\t\t\t\t\t\t\t\t\t\t\t onClick={() => onPageChanged(p)}>{p}</span>)\r\n\t\t\t }\r\n\t\t\t <button disabled={portionNumber >= portionCount} onClick={() => setPortionNumber(portionNumber + 1)} >\r\n\t\t\t\t <i className=\"fas fa-chevron-right\"/></button>\r\n\r\n\r\n\t\t </div>\r\n\t)\r\n};\r\nexport default Paginator;","import React from \"react\";\r\nimport universal from './Users.module.css'\r\nimport userPhoto from '../../img/1.jpg'\r\nimport {NavLink} from \"react-router-dom\";\r\n\r\nlet User = ({user, followingInProgress, follow, unfollow}) => {\r\n\treturn (\r\n\t\t <div className={universal.user}>\r\n\t\t\t <div className={universal.info}>\r\n\t\t\t\t <NavLink to={'/profile/' + user.id}>\r\n\t\t\t\t\t <img src={user.photos.small != null ? user.photos.small : userPhoto} alt=\"ava\"/>\r\n\t\t\t\t </NavLink>\r\n\t\t\t\t <div className={universal.arrButton}>\r\n\t\t\t\t\t {user.followed\r\n\t\t\t\t\t\t  ? <button disabled={followingInProgress.some(id => id === user.id)}\r\n\t\t\t\t\t\t\t\t\t\tclassName={universal.btn}\r\n\t\t\t\t\t\t\t\t\t\tonClick={() => unfollow(user.id)}>\r\n\t\t\t\t\t\t\t  Unfollow</button>\r\n\t\t\t\t\t\t  : <button disabled={followingInProgress.some(id => id === user.id)}\r\n\t\t\t\t\t\t\t\t\t\tclassName={universal.btn}\r\n\t\t\t\t\t\t\t\t\t\tonClick={() => follow(user.id)}>\r\n\t\t\t\t\t\t\t  Follow</button>\r\n\t\t\t\t\t }\r\n\t\t\t\t </div>\r\n\t\t\t </div>\r\n\t\t\t <div className={universal.location}>\r\n\t\t\t\t <div className={universal.leftBlock}>\r\n\t\t\t\t\t <div className={universal.name}>{user.name}</div>\r\n\t\t\t\t\t <div className={universal.status}>{user.status}</div>\r\n\t\t\t\t </div>\r\n\t\t\t\t <div className={universal.rightBlock}>\r\n\t\t\t\t\t <div className={universal.country}>{\"user.location.country\"}</div>\r\n\t\t\t\t\t <div className={universal.city}>{\"user.location.city\"}</div>\r\n\t\t\t\t </div>\r\n\t\t\t </div>\r\n\t\t </div>\r\n\t)\r\n};\r\nexport default User;","import React from 'react';\r\nimport Paginator from \"../common/Paginator/Paginator\";\r\nimport User from \"./User\";\r\n\r\nlet Users = ({currentPage, totalUsersCount, pageSize, onPageChanged, users, ...props}) => {\r\n\treturn <div>\r\n\t\t<Paginator currentPage={currentPage} onPageChanged={onPageChanged}\r\n\t\t\t\t\t  totalItemsCount={totalUsersCount} pageSize={pageSize}/>\r\n\t\t<div>\r\n\t\t\t{\r\n\t\t\t\tusers.map(u => <User user={u}\r\n\t\t\t\t\t\t\t\t followingInProgress={props.followingInProgress}\r\n\t\t\t\t\t\t\t\t key={u.id}\r\n\t\t\t\t\t\t\t\t unfollow={props.unfollow}\r\n\t\t\t\t\t\t\t\t follow={props.follow}/>\r\n\t\t\t\t)\r\n\t\t\t}\r\n\t\t</div>\r\n\t</div>\r\n}\r\n\r\nexport default Users;","import preLoader from \"../../../img/loading.gif\";\r\nimport React from \"react\";\r\nimport w from './Preloader.module.css'\r\n\r\nconst Preloader = (props) => {\r\n\treturn(\r\n\t\t <div className={w.loader}>\r\n\t\t\t <img src={preLoader} />\r\n\t\t </div>\r\n\t);\r\n}\r\nexport default Preloader;\r\n","import {createSelector} from \"reselect\";\r\n\r\nconst getUsers = (state) => {\r\n\treturn state.usersPage.users\r\n};\r\nexport const getPageSize = (state) => {\r\n\treturn state.usersPage.pageSize\r\n};\r\nexport const getTotalUsersCount = (state) => {\r\n\treturn state.usersPage.totalUsersCount\r\n};\r\nexport const getCurrentPage = (state) => {\r\n\treturn state.usersPage.currentPage\r\n};\r\nexport const getIsFetching = (state) => {\r\n\treturn state.usersPage.isFetching\r\n};\r\nexport const getFollowingInProgress = (state) => {\r\n\treturn state.usersPage.followingInProgress\r\n};\r\n\r\nexport const getUsersSelector = createSelector(getUsers,(users) => {\r\n\treturn users;\r\n});\r\n","import React from 'react';\r\nimport {connect} from 'react-redux';\r\nimport {\r\n\tfollow,\r\n\tsetCurrentPage,\r\n\tunfollow,  requestUsers\r\n} from '../../redux/usersReducer';\r\nimport Users from './Users';\r\nimport Preloader from \"../common/Preloader/Preloader\";\r\nimport {compose} from \"redux\";\r\nimport {\r\n\tgetCurrentPage,\r\n\tgetFollowingInProgress,\r\n\tgetIsFetching,\r\n\tgetPageSize,\r\n\tgetTotalUsersCount, getUsersSelector\r\n} from \"../../redux/selectors/users-selectors\";\r\n\r\n\r\nclass UsersContainer extends React.Component {\r\n\tcomponentDidMount() {\r\n\t\tconst {currentPage, pageSize} = this.props;\r\n\t\tthis.props.getUsers(currentPage, pageSize);\r\n\t};\r\n\r\n\tonPageChanged = (pageNumber) => {\r\n\t\tconst {pageSize} = this.props;\r\n\t\tthis.props.getUsers(pageNumber, pageSize);\r\n\t};\r\n\r\n\r\n\trender() {\r\n\r\n\t\treturn <>\r\n\t\t\t{this.props.isFetching ? <Preloader/> : null}\r\n\t\t\t<Users totalUsersCount={this.props.totalUsersCount}\r\n\t\t\t\t\t pageSize={this.props.pageSize}\r\n\t\t\t\t\t currentPage={this.props.currentPage}\r\n\t\t\t\t\t onPageChanged={this.onPageChanged}\r\n\t\t\t\t\t users={this.props.users}\r\n\t\t\t\t\t follow={this.props.follow}\r\n\t\t\t\t\t unfollow={this.props.unfollow}\r\n\t\t\t\t\t followingInProgress={this.props.followingInProgress}\r\n\t\t\t/>\r\n\t\t</>\r\n\t}\r\n}\r\n\r\nlet mapStateToProps = (state) => {\r\n\treturn {\r\n\t\tusers: getUsersSelector(state),\r\n\t\tpageSize: getPageSize(state),\r\n\t\ttotalUsersCount: getTotalUsersCount(state),\r\n\t\tcurrentPage: getCurrentPage(state),\r\n\t\tisFetching: getIsFetching(state),\r\n\t\tfollowingInProgress: getFollowingInProgress(state)\r\n\t}\r\n};\r\n\r\n\r\nexport default compose(\r\n\t connect(mapStateToProps, {follow, unfollow, setCurrentPage, getUsers: requestUsers})\r\n)(UsersContainer)","import {dalAPi} from \"../components/Api/Api\";\r\n\r\nconst ADD_POST = \"profileReducer/ADD-POST\";\r\nconst DELETE_POST = \"profileReducer/DELETE_POST-POST\";\r\nconst SET_USER_PROFILE = 'profileReducer/SET_USER_PROFILE';\r\nconst SET_PROFILE_STATUS = 'profileReducer/SET_PROFILE_STATUS';\r\nconst ADD_LIKE = 'profileReducer/ADD_LIKE';\r\nconst PUSH_ID_LIKES = 'profileReducer/PUSH_ID_LIKES';\r\nlet initialState = {\r\n\tpostData: [\r\n\t\t{id: 4, message: 'DA DA DA', like: 3115},\r\n\t\t{id: 3, message: 'I talk u come me', like: 146311},\r\n\t\t{id: 2, message: 'Hi bro, how are u?', like: 1244444},\r\n\t\t{id: 1, message: 'It\\'s first post', like: 21600875346},\r\n\t],\r\n\tprofile: null,\r\n\tmainProfile: {\r\n\t\tuserId: 0,\r\n\t\tfullName: 'Dmitry Wirexia',\r\n\t\taboutMe: 'novice developer',\r\n\t\tphotos: {\r\n\t\t\tlarge: 'https://download-cs.net/steam/avatars/3412.jpg'\r\n\t\t}\r\n\t},\r\n\tstatus: \"\",\r\n\tisShowIdLike: [],\r\n};\r\nconst profileReducer = (state = initialState, action) => {\r\n\tswitch (action.type) {\r\n\t\tcase ADD_POST:\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\tpostData: [{\r\n\t\t\t\t\tid: state.postData[0].id + 1,\r\n\t\t\t\t\tmessage: action.text,\r\n\t\t\t\t\tlike: 0\r\n\t\t\t\t}, ...state.postData],\r\n\t\t\t};\r\n\t\tcase DELETE_POST:\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\tpostData: state.postData.filter(p => p.id !== action.postId)\r\n\t\t\t};\r\n\t\tcase SET_USER_PROFILE:\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\tprofile: action.profile\r\n\t\t\t};\r\n\t\tcase SET_PROFILE_STATUS:\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\tstatus: action.status\r\n\t\t\t};\r\n\t\tcase ADD_LIKE:\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\tpostData: state.postData.map(u => {\r\n\t\t\t\t\tif (u.id === action.id) {\r\n\t\t\t\t\t\treturn {...u, like: state.postData[state.postData.length - action.id].like + 1};\r\n\t\t\t\t\t}\r\n\t\t\t\t\treturn u;\r\n\t\t\t\t}),\r\n\t\t\t};\r\n\t\tcase PUSH_ID_LIKES:\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\tisShowIdLike: action.expectation\r\n\t\t\t\t\t ? [...state.isShowIdLike, action.id]\r\n\t\t\t\t\t : state.isShowIdLike.filter(id => id !== action.id)\r\n\t\t\t};\r\n\t\tdefault:\r\n\t\t\treturn state;\r\n\t}\r\n};\r\nexport const addPost = (text) => ({type: ADD_POST, text});\r\nexport const deletePost = (postId) => ({type: DELETE_POST, postId});\r\nexport const setUserProfile = (profile) => ({type: SET_USER_PROFILE, profile});\r\nexport const setProfileStatus = (status) => ({type: SET_PROFILE_STATUS, status});\r\nexport const addLike = (id) => ({type: ADD_LIKE, id});\r\nexport const pushIdLikes = (expectation, id) => ({type: PUSH_ID_LIKES, expectation, id});\r\n\r\nexport const profileThunk = (userId) => async (dispatch) => {\r\n\tlet response = await dalAPi.getProfile(userId);\r\n\tdispatch(setUserProfile(response.data));\r\n};\r\nexport const statusThunk = (userId) => async (dispatch) => {\r\n\tlet response = await dalAPi.getStatus(userId);\r\n\tdispatch(setProfileStatus(response.data));\r\n};\r\nexport const statusUpdateThunk = (status) => async (dispatch) => {\r\n\tlet response = await dalAPi.putUpdateStatus(status);\r\n\tif (response.data.resultCode === 0) {\r\n\t\tdispatch(setProfileStatus(status));\r\n\t}\r\n};\r\nexport default profileReducer;","import React from \"react\";\r\nimport universal from './SimplePost.module.css';\r\nimport \"../../../../css/all.min.css\"\r\n\r\n\r\nclass SimplePost extends React.PureComponent{\r\n\tstate = {\r\n\t\tshowLike: false,\r\n\t\thowIdIsShowLike: []\r\n\t};\r\n\twithdrawLikes = () => {\r\n\t\tthis.setState({\r\n\t\t\tshowLike: true\r\n\t\t})\r\n\t};\r\n\thideLikes = () => {\r\n\t\tthis.setState({\r\n\t\t\tshowLike: false\r\n\t\t})\r\n\t};\r\n\r\n\t/*shouldComponentUpdate(nextProps, nextState) {\r\n\t\treturn nextProps !== this.props || this.state !== nextState;\r\n\t}*/\r\n\r\n\tcountLike(id){\r\n\t\tthis.props.addLike(id);\r\n\t};\r\n\tspaceBetweenLikes(like) {\r\n\t\tlet strLike = String(like);\r\n\t\tlet res = \"\";\r\n\t\tfor (let i = strLike.length-1; i >= 0; i--){\r\n\t\t\tif(i === strLike.length-4 || i === strLike.length-7 || i === strLike.length-10){\r\n\t\t\t\tres += \" \" + strLike[i];\r\n\t\t\t}else{\r\n\t\t\t\tres += strLike[i]\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn res.split(\"\").reverse().join(\"\");\r\n\t};\r\n\r\n\trender() {\r\n\t\treturn(\r\n\t\t\t this.props.postData.map(post =>\r\n\t\t\t\t  <div key={post.id} className={universal.item}>\r\n\t\t\t\t\t  <div className={universal.photo}>\r\n\t\t\t\t\t\t  <img src='https://download-cs.net/steam/avatars/3412.jpg' alt={\"ava\"}/>\r\n\t\t\t\t\t  </div>\r\n\t\t\t\t\t  <div className={universal.message}>{post.message}</div>\r\n\t\t\t\t\t  <div className={universal.like} >\r\n\t\t\t\t\t\t  <i className=\"far fa-thumbs-up\" onClick={() => this.countLike(post.id)} />\r\n\t\t\t\t\t\t  <div\r\n\t\t\t\t\t\t\t\tonMouseOver={() => {\r\n\t\t\t\t\t\t\t\t\tthis.withdrawLikes();\r\n\t\t\t\t\t\t\t\t\tthis.props.pushIdLikes(true, post.id)\r\n\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\tonMouseOut={()=>{\r\n\t\t\t\t\t\t\t\t\tthis.hideLikes();\r\n\t\t\t\t\t\t\t\t\tthis.props.pushIdLikes(false, post.id)\r\n\t\t\t\t\t\t\t\t}}>\r\n\t\t\t\t\t\t\t  {\r\n\t\t\t\t\t\t\t  \t(post.like > 1000000000 ) ? Math.round(post.like/100000000)/10 + \"B\" :\r\n\t\t\t\t\t\t\t\t  (post.like > 1000000 ) ? Math.round(post.like/100000)/10 + \"M\" :\r\n\t\t\t\t\t\t\t\t\t\t(post.like > 1000) ? Math.round(post.like/100)/10 + \"k\" :\r\n\t\t\t\t\t\t\t\t\t\t\t post.like\r\n\t\t\t\t\t\t\t  }\r\n\t\t\t\t\t\t  </div>\r\n\t\t\t\t\t\t  {\r\n\t\t\t\t\t\t\t  this.state.showLike && this.props.isShowIdLike.some(id => id === post.id) && post.like > 1000\r\n\t\t\t\t\t\t\t\t\t? <span>total value: {this.spaceBetweenLikes(post.like)}\r\n\t\t\t\t\t\t\t\t\t\t<i className=\"fas fa-heart\"/>\r\n\t\t\t\t\t\t\t  </span>\r\n\t\t\t\t\t\t\t\t\t: null\r\n\t\t\t\t\t\t  }\r\n\t\t\t\t\t  </div>\r\n\t\t\t\t  </div>\r\n\t\t\t )\r\n\r\n\t\t);\r\n\t}\r\n\r\n\r\n}\r\n\r\nexport default SimplePost;","import React from \"react\";\r\nimport universal from './MyPost.module.css'\r\nimport SimplePost from \"./SimplePost/SimplePost\";\r\nimport {Field, reduxForm} from \"redux-form\";\r\nimport {maxLengthCreator, minLengthCreator, required} from \"../../../utils/validators/validators\";\r\nimport {Textarea} from \"../../common/formControls/formControls\";\r\n\r\nconst maxLength500 = maxLengthCreator(500);\r\nconst minLength2 = minLengthCreator(2);\r\n\r\nconst MyPost = React.memo(props => {\r\n\r\n\tconst onSubmit = (values) => {\r\n\t\tprops.addPost(values.newPostBody);\r\n\t};\r\n\treturn(\r\n\t\t <div className={universal.MyPost}>\r\n\t\t\t <div className={universal.post}>My Post</div>\r\n\t\t\t <div className={universal.block}>\r\n\t\t\t\t <PostReduxForm onSubmit={onSubmit}/>\r\n\t\t\t </div>\r\n\t\t\t <div className={universal.simplePost}>\r\n\t\t\t\t <SimplePost postData={props.postData} addLike={props.addLike}\r\n\t\t\t\t\t\t\t\t pushIdLikes={props.pushIdLikes} isShowIdLike={props.isShowIdLike}/>\r\n\t\t\t </div>\r\n\t\t </div>\r\n\t);\r\n});\r\nconst PostForm = (props) => {\r\n\treturn(\r\n\t\t <form onSubmit={props.handleSubmit}>\r\n\t\t\t <Field className={universal.textPost}\r\n\t\t\t\t\t  placeholder={\"Enter to share news...\"} name=\"newPostBody\"\r\n\t\t\t\t\t  component={Textarea}\r\n\t\t\t\t\t  validate={[required, maxLength500, minLength2]}/>\r\n\t\t\t <button className={universal.send}>Add post</button>\r\n\t\t </form>\r\n\t)\r\n};\r\n\r\nconst PostReduxForm = reduxForm({form: 'post'})(PostForm);\r\n\r\nexport default MyPost;","import React from \"react\";\r\nimport {addPost, addLike, pushIdLikes} from \"../../../redux/profileReducer\";\r\nimport MyPost from \"./MyPost\";\r\nimport {connect} from \"react-redux\";\r\n\r\nlet mapStateToProps = (state) => {\r\n\treturn {\r\n\t\tpostData: state.profilePage.postData,\r\n\t\tisShowIdLike: state.profilePage.isShowIdLike\r\n\t}\r\n};\r\n\r\n\r\nconst MyPostContainer = connect(mapStateToProps, {addPost, addLike, pushIdLikes})(MyPost);\r\nexport default MyPostContainer;","import React, {useEffect, useState} from \"react\";\r\n\r\nconst ProfileStatusWithHooks = React.memo(props => {\r\n\tlet [editMode, setEditMode] = useState(false);\r\n\tlet [status, setStatus] = useState(props.status);\r\n\r\n\tconst activateEditMode = () => {\r\n\t\tsetEditMode(true)\r\n\t};\r\n\tconst deactivateEditMode = () => {\r\n\t\tsetEditMode(false);\r\n\t\tprops.statusUpdateThunk(status);\r\n\t};\r\n\tconst onStatusChange = (e) => {\r\n\t\tsetStatus(e.target.value)\r\n\t};\r\n\tuseEffect(() => {\r\n\t\tsetStatus(props.status)\r\n\t}, [props.status]);\r\n\r\n\treturn(\r\n\t\t <>\r\n\t\t\t {!editMode &&\r\n\t\t\t <div>\r\n\t\t\t\t <span onDoubleClick={activateEditMode}>{props.status || 'Edit status'}</span>\r\n\t\t\t </div>\r\n\t\t\t }\r\n\t\t\t {editMode &&\r\n\t\t\t <div>\r\n\t\t\t\t <input onBlur={deactivateEditMode}\r\n\t\t\t\t\t\t  autoFocus={true}\r\n\t\t\t\t\t\t  onChange={onStatusChange}\r\n\t\t\t\t\t\t  value={status}/>\r\n\t\t\t </div>\r\n\t\t\t }\r\n\t\t </>\r\n\t)\r\n});\r\n\r\nexport default ProfileStatusWithHooks;","import React from \"react\";\r\nimport universal from \"./ProfileInfo.module.css\";\r\nimport Preloader from \"../../common/Preloader/Preloader\";\r\nimport headerImg from './../../../img/snw.png';\r\nimport ProfileStatusWithHooks from \"./PrifileStatus/ProfileStatusWithHooks\";\r\n\r\nlet ProfileInfo = React.memo(\r\n\t ({profile, status, statusUpdateThunk}) => {\r\n\tif (!profile){\r\n\t\treturn <Preloader/>\r\n\t}\r\n\treturn(\r\n\t\t <>\r\n\t\t\t <div className={universal.backLogo}>\r\n\t\t\t\t <img src={headerImg} />\r\n\t\t\t </div>\r\n\t\t\t <div className={universal.profile}>\r\n\t\t\t\t <img src={profile.photos.large\r\n\t\t\t\t ? profile.photos.large\r\n\t\t\t\t\t  : \"https://my-engine.ru/modules/users/avatar.png\"\r\n\t\t\t\t } />\r\n\t\t\t\t <div className={universal.leftBlock}>\r\n\t\t\t\t\t <div className={universal.name_profile}>{profile.fullName}</div>\r\n\t\t\t\t\t <div className={universal.status_profile}>\r\n\t\t\t\t\t\t <ProfileStatusWithHooks status={status} statusUpdateThunk={statusUpdateThunk}/>\r\n\t\t\t\t\t </div>\r\n\t\t\t\t\t <ul className={universal.info_profile}>\r\n\t\t\t\t\t\t <li>About me: {profile.aboutMe}</li>\r\n\t\t\t\t\t\t {\r\n\t\t\t\t\t\t\t profile.lookingForAJobDescription\r\n\t\t\t\t\t\t\t  ? <li>Activity: {profile.lookingForAJobDescription}</li>\r\n\t\t\t\t\t\t\t\t  : <li>Activity: none</li>\r\n\t\t\t\t\t\t }\r\n\t\t\t\t\t\t <li>City: Sumy</li>\r\n\t\t\t\t\t\t {\r\n\t\t\t\t\t\t\t profile.contacts.github\r\n\t\t\t\t\t\t\t\t  ? <li>GitHub: {profile.contacts.github}</li>\r\n\t\t\t\t\t\t\t\t  : null\r\n\t\t\t\t\t\t }\r\n\t\t\t\t\t\t {\r\n\t\t\t\t\t\t\t profile.contacts.vk\r\n\t\t\t\t\t\t\t\t  ? <li>VK: {profile.contacts.vk}</li>\r\n\t\t\t\t\t\t\t\t  : null\r\n\t\t\t\t\t\t }\r\n\t\t\t\t\t\t {\r\n\t\t\t\t\t\t\t profile.contacts.facebook\r\n\t\t\t\t\t\t\t\t  ? <li>Facebook: {profile.contacts.facebook}</li>\r\n\t\t\t\t\t\t\t\t  : null\r\n\t\t\t\t\t\t }\r\n\t\t\t\t\t\t {\r\n\t\t\t\t\t\t\t profile.contacts.instagram\r\n\t\t\t\t\t\t\t\t  ? <li>Instagram: {profile.contacts.instagram}</li>\r\n\t\t\t\t\t\t\t\t  : null\r\n\t\t\t\t\t\t }\r\n\t\t\t\t\t\t {\r\n\t\t\t\t\t\t\t profile.contacts.twitter\r\n\t\t\t\t\t\t\t\t  ? <li>Twitter: {profile.contacts.twitter}</li>\r\n\t\t\t\t\t\t\t\t  : null\r\n\t\t\t\t\t\t }\r\n\t\t\t\t\t\t {\r\n\t\t\t\t\t\t\t profile.contacts.website\r\n\t\t\t\t\t\t\t\t  ? <li>Web Site: {profile.contacts.website}</li>\r\n\t\t\t\t\t\t\t\t  : null\r\n\t\t\t\t\t\t }\r\n\t\t\t\t\t\t {\r\n\t\t\t\t\t\t\t profile.contacts.youtube\r\n\t\t\t\t\t\t\t\t  ? <li>YouTube: {profile.contacts.youtube}</li>\r\n\t\t\t\t\t\t\t\t  : null\r\n\t\t\t\t\t\t }\r\n\t\t\t\t\t\t {\r\n\t\t\t\t\t\t\t profile.contacts.mainLink\r\n\t\t\t\t\t\t\t\t  ? <li>Min Link: {profile.contacts.mainLink}</li>\r\n\t\t\t\t\t\t\t\t  : null\r\n\t\t\t\t\t\t }\r\n\t\t\t\t\t\t <li>Looking for a job: {\r\n\t\t\t\t\t\t\t profile.lookingForAJob\r\n\t\t\t\t\t\t\t  ? <input type={\"checkbox\"} checked={true}/>\r\n\t\t\t\t\t\t\t  : <input type={\"checkbox\"} checked={false}/>\r\n\t\t\t\t\t\t }</li>\r\n\t\t\t\t\t </ul>\r\n\t\t\t\t </div>\r\n\t\t\t </div>\r\n\r\n\t\t </>\r\n\t)\r\n});\r\nexport default ProfileInfo;","import React from \"react\";\r\nimport universal from './Profile.module.css'\r\nimport MyPostContainer from \"./Posts/MyPostContainer\";\r\nimport ProfileInfo from \"./ProfileInfo/ProfileInfo\";\r\n\r\nconst Profile = React.memo(props => {\r\n\r\n\treturn(\r\n\t\t <div className={universal.content}>\r\n\t\t\t <ProfileInfo profile={props.profile} mainProfile={props.mainProfile}\r\n\t\t\t\t\t\t\t  status={props.status} statusUpdateThunk={props.statusUpdateThunk}/>\r\n\t\t\t <MyPostContainer />\r\n\t\t </div>\r\n\t);\r\n});\r\n\r\nexport default Profile;","import React from \"react\";\r\nimport Profile from \"./Profile\";\r\nimport {connect} from 'react-redux'\r\nimport {profileThunk, statusThunk, statusUpdateThunk, addLike} from \"../../redux/profileReducer\";\r\nimport {withRouter} from \"react-router-dom\";\r\nimport {withAuthRedirect} from \"../Hoc/withAuthRedirect\";\r\nimport {compose} from \"redux\";\r\n\r\nclass ProfileContainer extends React.Component {\r\n\tcomponentDidMount() {\r\n\t\tlet userId = this.props.match.params.userId;\r\n\t\tif(!userId){\r\n\t\t\tuserId = this.props.authorizedUserId;\r\n\t\t\tif(!userId){\r\n\t\t\t\tthis.props.history.push(\"/login\");\r\n\t\t\t}\r\n\t\t}\r\n\t\tthis.props.profileThunk(userId);\r\n\t\tthis.props.statusThunk(userId);\r\n\t}\r\n\trender() {\r\n\t\treturn <Profile {...this.props}/>\r\n\t}\r\n}\r\n\r\nlet mapStateToProps = (state) => {\r\n\treturn {\r\n\t\tprofile: state.profilePage.profile,\r\n\t\tmainProfile: state.profilePage.mainProfile,\r\n\t\tstatus: state.profilePage.status,\r\n\t\tauthorizedUserId: state.authPart.id,\r\n\t\tisAuth: state.authPart.isAuth\r\n\t}\r\n};\r\n\r\n\r\nexport default compose(\r\n\t connect(mapStateToProps, {profileThunk, statusThunk, statusUpdateThunk, addLike}),\r\n\t withRouter,\r\n\t //withAuthRedirect\r\n)(ProfileContainer);","import React from 'react';\r\nimport logo from \"../../logo.svg\";\r\nimport universal from './Header.module.css'\r\nimport {NavLink} from \"react-router-dom\";\r\n\r\nconst Header = React.memo(props => {\r\n\treturn(\r\n\t\t <div className={universal.header}>\r\n\t\t\t <img src={logo} className={universal.App_logo} alt=\"logo\" />\r\n\t\t\t <div className={universal.RT}>This site is made on React</div>\r\n\t\t\t <div className={universal.login}>\r\n\t\t\t\t {\r\n\t\t\t\t\t props.isAuth\r\n\t\t\t\t\t\t  ? <div><span>{props.login}</span>\r\n\t\t\t\t\t\t\t  <i className=\"fas fa-sign-out-alt\" onClick={props.logoutThunk}/>\r\n\t\t\t\t\t\t  </div>\r\n\t\t\t\t\t\t  :   <NavLink to={'/login'}>Login</NavLink>\r\n\t\t\t\t }\r\n\t\t\t </div>\r\n\t\t </div>\r\n\r\n\t);\r\n});\r\nexport default Header;","import {dalAPi} from \"../components/Api/Api\";\r\nimport {stopSubmit} from \"redux-form\";\r\n\r\nconst SET_USER_DATA = \"auth/SET_USER_DATA\";\r\n\r\nlet initialState = {\r\n\tid: null,\r\n\temail: null,\r\n\tlogin: null,\r\n\tisAuth: false,\r\n};\r\n\r\nconst authReducer = (state = initialState, action) => {\r\n\tswitch (action.type) {\r\n\t\tcase SET_USER_DATA:\r\n\t\t\treturn  {\r\n\t\t\t\t...state,\r\n\t\t\t\t...action.payload,\r\n\t\t\t};\r\n\t\tdefault:\r\n\t\t\treturn state;\r\n\t}\r\n};\r\nexport const setAuthUserData = (id, email, login, isAuth) => {\r\n\treturn {\r\n\t\ttype: SET_USER_DATA,\r\n\t\tpayload: {\r\n\t\t\tid,\r\n\t\t\temail,\r\n\t\t\tlogin,\r\n\t\t\tisAuth\r\n\t\t}\r\n\t}\r\n};\r\nexport const authThunk = () => async (dispatch) => {\r\n\tlet response = await dalAPi.getAuthAxios();\r\n\tif(response.resultCode === 0){\r\n\t\tlet {id, email, login} = response.data;\r\n\t\tdispatch(setAuthUserData(id, email, login, true));\r\n\t}\r\n};\r\nexport const loginThunk = (email, password, rememberMe) => async (dispatch) => {\r\n\tlet response = await dalAPi.postLoginAxios(email, password, rememberMe);\r\n\tif(response.data.resultCode === 0){\r\n\t\tdispatch(authThunk());\r\n\t}else{\r\n\t\tlet mes = response.data.messages.length > 0 ? response.data.messages[0] : \"Some error\";\r\n\t\tdispatch(stopSubmit('login', {_error: mes}));\r\n\t}\r\n\r\n};\r\nexport const logoutThunk = () => async (dispatch) => {\r\n\tlet response = await dalAPi.deleteLoginAxios();\r\n\t\tif(response.data.resultCode === 0){\r\n\t\t\tdispatch(setAuthUserData(null, null, null, false));\r\n\t\t}\r\n};\r\n\r\n\r\nexport default authReducer;","import React from 'react';\r\nimport Header from \"./Header\";\r\nimport {connect} from 'react-redux'\r\nimport {logoutThunk} from \"../../redux/auth-reducer\";\r\n\r\nclass HeaderContainer extends React.Component {\r\n\r\n\trender() {\r\n\t\treturn <Header {...this.props} />\r\n\t}\r\n}\r\n\r\nlet mapStateToProps = (state) => {\r\n\treturn {\r\n\t\tisAuth: state.authPart.isAuth,\r\n\t\tlogin: state.authPart.login,\r\n\t}\r\n};\r\n\r\nexport default connect(mapStateToProps, {logoutThunk})(HeaderContainer);","import React from 'react';\r\nimport {reduxForm} from \"redux-form\";\r\nimport {createField, Input} from \"../common/formControls/formControls\";\r\nimport {maxLengthCreator, minLengthCreator, required} from \"../../utils/validators/validators\";\r\nimport {connect} from \"react-redux\";\r\nimport {loginThunk} from \"../../redux/auth-reducer\";\r\nimport {Redirect} from \"react-router-dom\";\r\nimport universal from \"./Login.module.css\";\r\n\r\nconst maxLength50 = maxLengthCreator(50);\r\nconst minLength2 = minLengthCreator(6);\r\n\r\nconst Login = React.memo(props => {\r\n\tconst onSubmit = (formData) => {\r\n\t\tprops.loginThunk(formData.email, formData.password, formData.rememberMe)\r\n\t};\r\n\tif (props.isAuth) return <Redirect to={'/profile'}/>;\r\n\treturn (\r\n\t\t <div>\r\n\t\t\t <h1>Login</h1>\r\n\t\t\t <LoginReduxForm onSubmit={onSubmit}/>\r\n\t\t </div>\r\n\t)\r\n});\r\nconst LoginForm = ({handleSubmit, error}) => {\r\n\treturn (\r\n\t\t <form onSubmit={handleSubmit}>\r\n\t\t\t {error && <div className={universal.error}>{error}</div>}\r\n\t\t\t {createField(\"Login\", Input, \"email\", [required, maxLength50, minLength2])}\r\n\t\t\t {createField(\"Password\", Input, \"password\", [required, maxLength50, minLength2], {type: \"password\"})}\r\n\t\t\t {createField(null, Input, \"rememberMe\", [], {type: \"checkbox\"}, \"remember me\")}\r\n\t\t\t <div>\r\n\t\t\t\t <button>Login</button>\r\n\t\t\t </div>\r\n\t\t </form>\r\n\t)\r\n};\r\nconst LoginReduxForm = reduxForm({form: 'login'})(LoginForm);\r\nlet mapStateToProps = (state) => {\r\n\treturn {\r\n\t\tisAuth: state.authPart.isAuth,\r\n\t}\r\n};\r\nexport default connect(mapStateToProps, {loginThunk})(Login);","import {authThunk} from \"./auth-reducer\";\r\n\r\nconst SET_INITIALIZED = 'SET_INITIALIZED';\r\n\r\nlet initialState = {\r\n\tinitialized: false\r\n};\r\n\r\nconst appReducer = (state = initialState, action) => {\r\n\tswitch (action.type) {\r\n\t\tcase SET_INITIALIZED:\r\n\t\t\treturn{\r\n\t\t\t\t...state,\r\n\t\t\t\tinitialized: true\r\n\t\t\t};\r\n\t\tdefault:\r\n\t\t\treturn state;\r\n\t}\r\n};\r\n\r\nexport const initializedSuccess = () => ({type: SET_INITIALIZED});\r\n\r\nexport const initializeApp = () => (dispatch) => {\r\n\tlet promise = dispatch(authThunk());\r\n\tPromise.all([promise]).then( () => dispatch(initializedSuccess()) );\r\n\r\n\r\n};\r\n\r\nexport default appReducer;","import dimuchPhoto from './../img/dimuch.png'\r\n\r\nlet initialState = {\r\n\tfriends: [\r\n\t\t{id: 1, name: 'Vladimir Zelensky',\r\n\t\t\tphotoUrl: 'https://upload.wikimedia.org/wikipedia/commons/thumb/b/b1/Volodymyr_Zelensky_Official_portrait_%28cropped%29.jpg/248px-Volodymyr_Zelensky_Official_portrait_%28cropped%29.jpg',\r\n\t\t},\r\n\t\t{id: 2, name: 'Nastenka',\r\n\t\t\tphotoUrl: 'https://svirtus.cdnvideo.ru/SO9sxAqnAkR1tN1Kg6jXFhWvYMM=/0x0:371x371/800x0/filters:quality(100)/https://hb.bizmrg.com/cybersportru-media/d4/d4e61b79893464edf8fac84d5b25bcd6.jpg?m=6abf7ca4aedde894c0fb76aea5a89542',\r\n\t\t},\r\n\t\t{id: 3, name: 'Dimuch BigBoss',\r\n\t\t\tphotoUrl: dimuchPhoto,\r\n\t\t},\r\n\t\t{id: 4, name: 'Artem lowSkill',\r\n\t\t\tphotoUrl: 'https://abakan-news.ru/wp-content/uploads/2018/03/-e1520919096875.jpg',\r\n\t\t},\r\n\t],\r\n};\r\n\r\nconst sidebarReducer = (state = initialState, action) => {\r\n\r\n\treturn state;\r\n};\r\n\r\nexport default sidebarReducer;","import {applyMiddleware, combineReducers, createStore} from \"redux\";\r\nimport profileReducer from \"./profileReducer\";\r\nimport messageReducer from \"./messageReducer\";\r\nimport sidebarReducer from \"./sidebarReducer\";\r\nimport usersReducer from \"./usersReducer\";\r\nimport authReducer from \"./auth-reducer\";\r\nimport thunk from \"redux-thunk\";\r\nimport {reducer as formReducer} from \"redux-form\";\r\nimport appReducer from \"./app-reducer\";\r\n\r\nlet reducers = combineReducers({\r\n\tprofilePage: profileReducer,\r\n\tmessangerPage: messageReducer,\r\n\tsideBar: sidebarReducer,\r\n\tusersPage: usersReducer,\r\n\tauthPart: authReducer,\r\n\tappPage: appReducer,\r\n\tform: formReducer,\r\n});\r\nlet store = createStore(reducers, applyMiddleware(thunk));\r\n\r\nwindow.store = store;\r\n\r\nexport default store;","import React from 'react';\r\nimport './App.css';\r\nimport Nav from \"./components/Nav/Nav\";\r\nimport {BrowserRouter, Route, withRouter} from \"react-router-dom\";\r\nimport Music from \"./components/Music/Music\";\r\nimport Settings from \"./components/Settings/Settings\";\r\nimport News from \"./components/News/News\";\r\nimport DialogsContainer from \"./components/Dialogs/DialogsContainer\";\r\nimport UsersContainer from \"./components/Users/UsersContainer\";\r\nimport ProfileContainer from \"./components/Profile/ProfileContainer\";\r\nimport HeaderContainer from \"./components/Header/HeaderContainer\";\r\nimport Login from \"./components/Login/Login\";\r\nimport {connect} from 'react-redux'\r\nimport {compose} from \"redux\";\r\nimport {initializeApp} from \"./redux/app-reducer\";\r\nimport Preloader from \"./components/common/Preloader/Preloader\";\r\nimport store from \"./redux/redux-store\";\r\nimport {Provider} from \"react-redux\";\r\n\r\nclass App extends React.PureComponent {\r\n\tcomponentDidMount() {\r\n\t\tthis.props.initializeApp();\r\n\t}\r\n\trender() {\r\n\t\tif (!this.props.initialized) return <Preloader/>;\r\n\t\treturn (\r\n\t\t\t <div className=\"app-writer\">\r\n\t\t\t\t <HeaderContainer/>\r\n\t\t\t\t <Nav state={this.props.state}/>\r\n\t\t\t\t <div className=\"app_content\">\r\n\t\t\t\t\t <Route path=\"/profile/:userId?\" render={() => <ProfileContainer/>}/>\r\n\t\t\t\t\t <Route path=\"/dialogs\" render={() => <DialogsContainer/>}/>\r\n\t\t\t\t\t <Route path=\"/news\" component={News}/>\r\n\t\t\t\t\t <Route path=\"/music\" component={Music}/>\r\n\t\t\t\t\t <Route path=\"/settings\" component={Settings}/>\r\n\t\t\t\t\t <Route path=\"/users\" render={() => <UsersContainer/>}/>\r\n\t\t\t\t\t <Route path=\"/login\" render={() => <Login/>}/>\r\n\t\t\t\t </div>\r\n\t\t\t </div>\r\n\t\t);\r\n\t}\r\n}\r\n\r\nlet mapStateToProps = (state) => {\r\n\treturn {\r\n\t\tinitialized: state.appPage.initialized,\r\n\t}\r\n};\r\nlet AppContainer = compose(\r\n\t withRouter,\r\n\t connect(mapStateToProps, {initializeApp}))(App);\r\n\r\nconst MainApp = () => {\r\n\treturn(\r\n\t\t <BrowserRouter>\r\n\t\t\t <Provider store={store}>\r\n\t\t\t\t <AppContainer state={store.getState()}/>\r\n\t\t\t </Provider>\r\n\t\t </BrowserRouter>\r\n\t);\r\n};\r\n\r\nexport default MainApp;","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport './index.css';\r\nimport * as serviceWorker from './serviceWorker';\r\nimport MainApp from \"./App\";\r\n\r\nReactDOM.render(<MainApp />, document.getElementById('root'));\r\n\r\nserviceWorker.unregister();\r\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"discussion\":\"Message_discussion__3UC9-\",\"enterMessage\":\"Message_enterMessage__2dSg4\",\"simpleMess\":\"Message_simpleMess__2jVZG\",\"blockMessage\":\"Message_blockMessage__66vwp\",\"backgroundImg\":\"Message_backgroundImg__1R4Db\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"MyPost\":\"MyPost_MyPost__334Pi\",\"post\":\"MyPost_post__36DxJ\",\"textPost\":\"MyPost_textPost__3VK-A\",\"block\":\"MyPost_block__1IYmE\",\"send\":\"MyPost_send__3sOZe\",\"simplePost\":\"MyPost_simplePost__1VGpP\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"backLogo\":\"ProfileInfo_backLogo__3XAA9\",\"profile\":\"ProfileInfo_profile__edx7m\",\"name_profile\":\"ProfileInfo_name_profile__2Nccf\",\"status_profile\":\"ProfileInfo_status_profile__2Eqtf\",\"leftBlock\":\"ProfileInfo_leftBlock__15dRc\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"mainDialog\":\"Dialogs_mainDialog__2iugk\",\"send\":\"Dialogs_send__2P3Cc\",\"dataEntry\":\"Dialogs_dataEntry__3wdM0\",\"sms\":\"Dialogs_sms__2FsFD\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"dialog\":\"Friends_dialog__1qdAn\",\"friendsDialog\":\"Friends_friendsDialog__133IO\",\"nameFriend\":\"Friends_nameFriend__34kQx\",\"imgFriend\":\"Friends_imgFriend__1hWB3\",\"mainDialog\":\"Friends_mainDialog__3X91l\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"item\":\"SimplePost_item__3hpwp\",\"message\":\"SimplePost_message__2VI9Q\",\"photo\":\"SimplePost_photo__2I4V-\",\"like\":\"SimplePost_like__3OkMl\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"header\":\"Header_header__1JWWd\",\"App_logo\":\"Header_App_logo__24zmQ\",\"rot\":\"Header_rot__aeNVN\",\"RT\":\"Header_RT__3IB1Z\",\"add_logo\":\"Header_add_logo__NNV3d\",\"dop\":\"Header_dop__3WxSJ\",\"login\":\"Header_login__1IYoM\"};","module.exports = __webpack_public_path__ + \"static/media/dimuch.74336e19.png\";","// extracted by mini-css-extract-plugin\nmodule.exports = {\"nav\":\"Nav_nav__pxE-P\",\"post\":\"Nav_post__3eSOG\",\"active\":\"Nav_active__3lTSx\",\"bestFriend\":\"Nav_bestFriend__2g3Lx\",\"photo\":\"Nav_photo__bInCk\",\"friend\":\"Nav_friend__1TXEG\",\"blockFriend\":\"Nav_blockFriend__3mKuR\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"formControl\":\"formControl_formControl__35bG_\",\"error\":\"formControl_error__2snX7\"};"],"sourceRoot":""}